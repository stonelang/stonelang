#ifndef ABSTRACT_DECL
#define ABSTRACT_DECL(ID, Parent)
#endif

#ifndef CONTEXT_DECL
#define CONTEXT_DECL(ID, Parent) DECL(ID, Parent)
#endif

#ifndef ITERABLE_NONTEMPLATE_DECL
#define ITERABLE_NONTEMPLATE_DECL(ID, Parent) CONTEXT_DECL(ID, Parent)
#endif

#ifndef TEMPLATE_DECL
#define TEMPLATE_DECL(ID, Parent) CONTEXT_DECL(ID, Parent)
#endif

#ifndef TEMPLATE_VALUE_DECL
#define TEMPLATE_VALUE_DECL(ID, Parent) TEMPLATE_DECL(ID, Parent)
#endif

#ifndef ITERABLE_TEMPLATE_DECL
#define ITERABLE_TEMPLATE_DECL(ID, Parent) TEMPLATE_DECL(ID, Parent)
#endif

#ifndef ITERABLE_TEMPLATE_VALUE_DECL
#define ITERABLE_TEMPLATE_VALUE_DECL(ID, Parent) ITERABLE_TEMPLATE_DECL(ID, Parent)
#endif

#ifndef OPERATOR_DECL
#define OPERATOR_DECL(ID, Parent) DECL(ID, Parent)
#endif

#ifndef NOMINAL_TYPE_DECL
#define NOMINAL_TYPE_DECL(ID, Parent) ITERABLE_TEMPLATE_VALUE_DECL(ID, Parent)
#endif

#ifndef ABSTRACT_FUNCTION_DECL
#define ABSTRACT_FUNCTION_DECL(ID, Parent) TEMPLATE_VALUE_DECL(ID, Parent)
#endif

#ifndef VALUE_DECL
#define VALUE_DECL(ID, Parent) DECL(ID, Parent)
#endif

#ifndef DECL_RANGE
#define DECL_RANGE(ID, First, Last)
#endif

#ifndef LAST_DECL
#define LAST_DECL(ID)
#endif


// Concrete root declarations
DECL(Join,  Decl)
DECL(Space, Decl)
DECL(Using, Decl)

// Type system
ABSTRACT_DECL(Type, Decl)
    ABSTRACT_DECL(NominalType, TypeDecl)
        NOMINAL_TYPE_DECL(Enum, NominalTypeDecl)
        NOMINAL_TYPE_DECL(Struct, NominalTypeDecl)
        NOMINAL_TYPE_DECL(Interface, NominalTypeDecl)
        DECL_RANGE(NominalType, Enum, Interface)

    DECL(Alias, TypeDecl)

    ABSTRACT_DECL(Module, TypeDecl)
        CONTEXT_DECL(NormalModule,  ModuleDecl)
        CONTEXT_DECL(BuiltinModule, ModuleDecl)
        CONTEXT_DECL(ForeignModule, ModuleDecl)
        DECL_RANGE(Alias, NormalModule, ForeignModule)

// Function declarations
ABSTRACT_DECL(Function, Decl)
    DECL(Fun, FunctionDecl)
    DECL(Constructor, FunctionDecl)
    DECL(Destructor, FunctionDecl)
    DECL_RANGE(Function, Fun, Destructor)

// Storage declarations
ABSTRACT_DECL(Storage, Decl)
    DECL(Var, StorageDecl)
    DECL(Param, VarDecl)
    DECL_RANGE(Storage, Var, Param)

// Other declarations
DECL(IfConfig, Decl)

// Enum helpers
LAST_DECL(IfConfig)
DECL_RANGE(Decl, Join, IfConfig)



// Cleanup
#undef NOMINAL_TYPE_DECL
#undef CONTEXT_DECL
#undef ITERABLE_NONTEMPLATE_DECL
#undef TEMPLATE_DECL
#undef ITERABLE_TEMPLATE_DECL
#undef TEMPLATE_VALUE_DECL
#undef ITERABLE_TEMPLATE_VALUE_DECL
#undef ABSTRACT_FUNCTION_DECL
#undef VALUE_DECL
#undef DECL_RANGE
#undef ABSTRACT_DECL
#undef OPERATOR_DECL
#undef DECL
#undef LAST_DECL
